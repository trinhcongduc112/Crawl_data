{
  "origin_url": "https://docs.abivin.com/docs/vrp-in-house-fleet-familiarity-constraint",
  "origin_host": "docs.abivin.com",
  "collection": "abivin-docs",
  "section": "user_guide",
  "parents_segments": [
    "docs"
  ],
  "parent_slug": null,
  "order_index": 140,
  "old_slug": "docs__vrp-in-house-fleet-familiarity-constraint",
  "new_slug": "docs__vrp-in-house-fleet-familiarity-constraint",
  "title": "Familiarity Constraint",
  "html_content": "<main class=\"SuperHubDoc3Z-1XSVTg-Q1 rm-Guides\" id=\"content\"><div class=\"SuperHubDoc-container2RY1FPE4Ewze rm-Container rm-Container_flex\"><article class=\"SuperHubDoc-article3ArTrEavUTKg rm-Article rm-Guides-SuperHub\"><div class=\"grid-container-fluid\" id=\"content-container\"><section class=\"content-body grid-75\"><div class=\"rm-Markdown markdown-body rm-Markdown markdown-body ng-non-bindable\" data-testid=\"RDMD\" style=\"margin-left:31px\"><ul>\n<li>In real operation, a company may allocate the customers to their vehicle fleet based on the familiarity relationship between each vehicle with the customers. The vehicle will prioritize delivering to the customers that have familiarity relationships with them first. After delivering to the customers that have familiarity relationships with them, the vehicles will continue delivering to other non-familiar customers if they still have enough working time and capacity</li>\n<li>This routing plan is defined as <strong>Master Delivery Plan</strong> (Abbreviated as <strong>MDP</strong>)</li>\n<li>To optimize the routes with the above constraint, in Abivin vRoute, we introduce the <strong>Familiarity</strong> configuration</li>\n<li>To use this configuration, please follow the steps below:</li>\n</ul>\n<h2 class=\"heading heading-2 header-scroll\"><div class=\"heading-anchor anchor waypoint\" id=\"compulsory-configuration\"></div><div class=\"heading-text\">Compulsory Configuration</div><a aria-label=\"Skip link to Compulsory Configuration\" class=\"heading-anchor-icon fa fa-regular fa-anchor\" href=\"#compulsory-configuration\"></a></h2>\n<ul>\n<li>Navigate to <strong>Organizations &gt; Organization List</strong> tab</li>\n<li>Click <strong>Edit</strong> <i class=\"fa-regular fa-pencil\"></i> icon of the <strong>Branch</strong></li>\n<li>On the <strong>Update Organization</strong> form, navigate to the <strong>More Configurations &gt; Algorithm</strong> sub-tab and tick the <strong>Use Familiarity</strong> checkbox to enable the Familiarity Constraint routing algorithm</li>\n<li>Click <strong>Save</strong> to confirm the change</li>\n</ul>\n<span aria-label=\"Expand image\" class=\"img lightbox closed\" role=\"button\" tabindex=\"0\"><span class=\"lightbox-inner\"><img alt=\"743\" class=\"img border\" height=\"auto\" loading=\"lazy\" src=\"../assets_user_guide/7319292-3Pvyce3UHr.png\" title=\"3Pvyce3UHr.png\" width=\"auto\" style=\"max-width:100%; height:auto; max-width:100%; height:auto; max-width:100%; height:auto;\"/></span></span>\n<ul>\n<li>After you have enabled this algorithm configuration, you'll then need to:</li>\n<li>1 - Assign MDP codes to the Customers</li>\n<li>2 - Assign Customers' MDP codes to the Vehicles</li>\n</ul>\n<h2 class=\"heading heading-2 header-scroll\"><div class=\"heading-anchor anchor waypoint\" id=\"assign-mdp-code-to-the-customer\"></div><div class=\"heading-text\">Assign MDP code to the customer</div><a aria-label=\"Skip link to Assign MDP code to the customer\" class=\"heading-anchor-icon fa fa-regular fa-anchor\" href=\"#assign-mdp-code-to-the-customer\"></a></h2>\n<ul>\n<li>There are two methods to assign MDP codes to Customers: Web form and Excel template</li>\n</ul>\n<h3 class=\"heading heading-3 header-scroll\"><div class=\"heading-anchor anchor waypoint\" id=\"assign-mdp-codes-to-customers-on-web-form\"></div><div class=\"heading-text\">Assign MDP codes to Customers on Web form</div><a aria-label=\"Skip link to Assign MDP codes to Customers on Web form\" class=\"heading-anchor-icon fa fa-regular fa-anchor\" href=\"#assign-mdp-codes-to-customers-on-web-form\"></a></h3>\n<ul>\n<li>Navigate to <strong>Partners &gt; Customers</strong> tab</li>\n<li>Click <strong>Edit</strong> <i class=\"fa-regular fa-pencil\"></i> icon of the desired customers</li>\n<li>On the <strong>Update Customer</strong> form, navigate to <strong>Sales Area</strong> sub-tab. Insert a unique MDP code for the Customer. You should copy this MDP code to use later on</li>\n<li>Click <strong>Save</strong> to confirm the change</li>\n</ul>\n<span aria-label=\"Expand image\" class=\"img lightbox closed\" role=\"button\" tabindex=\"0\"><span class=\"lightbox-inner\"><img alt=\"949\" class=\"img border\" height=\"auto\" loading=\"lazy\" src=\"../assets_user_guide/580cdac-TP2QjvpfyU.png\" title=\"TP2QjvpfyU.png\" width=\"auto\" style=\"max-width:100%; height:auto; max-width:100%; height:auto; max-width:100%; height:auto;\"/></span></span>\n<h3 class=\"heading heading-3 header-scroll\"><div class=\"heading-anchor anchor waypoint\" id=\"assign-mdp-codes-to-customers-on-excel-template\"></div><div class=\"heading-text\">Assign MDP codes to Customers on Excel template</div><a aria-label=\"Skip link to Assign MDP codes to Customers on Excel template\" class=\"heading-anchor-icon fa fa-regular fa-anchor\" href=\"#assign-mdp-codes-to-customers-on-excel-template\"></a></h3>\n<ul>\n<li>On the Excel template, input the MDPs code into <strong>MDP</strong> cells</li>\n</ul>\n<span aria-label=\"Expand image\" class=\"img lightbox closed\" role=\"button\" tabindex=\"0\"><span class=\"lightbox-inner\"><img alt=\"77\" class=\"img border\" height=\"auto\" loading=\"lazy\" src=\"../assets_user_guide/75f45cc-JjNNb9KrBT.png\" title=\"JjNNb9KrBT.png\" width=\"auto\" style=\"max-width:100%; height:auto; max-width:100%; height:auto; max-width:100%; height:auto;\"/></span></span>\n<h3 class=\"heading heading-3 header-scroll\"><div class=\"heading-anchor anchor waypoint\" id=\"mdp-code-format\"></div><div class=\"heading-text\">MDP code format</div><a aria-label=\"Skip link to MDP code format\" class=\"heading-anchor-icon fa fa-regular fa-anchor\" href=\"#mdp-code-format\"></a></h3>\n<ul>\n<li>MDP codes can only consist of letters, numbers and dash symbols. For example: <em><strong>MDP_code_01</strong></em> is valid, <em><strong>MDP@code!01</strong></em> is invalid</li>\n<li>The MDP codes of Customers must be unique. No two Customers can have the same MDP code</li>\n<li>One customer can only have <em><strong>one MDP code</strong></em></li>\n</ul>\n<h2 class=\"heading heading-2 header-scroll\"><div class=\"heading-anchor anchor waypoint\" id=\"assign-mdp-codes-to-the-vehicles\"></div><div class=\"heading-text\">Assign MDP codes to the vehicles</div><a aria-label=\"Skip link to Assign MDP codes to the vehicles\" class=\"heading-anchor-icon fa fa-regular fa-anchor\" href=\"#assign-mdp-codes-to-the-vehicles\"></a></h2>\n<ul>\n<li>You can assign the MDP codes of multiple customers to a single vehicle, or assign the MDP code of a single customer to multiple vehicles</li>\n<li>There are two methods to assign MDP codes to vehicles: Web form and Excel template</li>\n</ul>\n<h3 class=\"heading heading-3 header-scroll\"><div class=\"heading-anchor anchor waypoint\" id=\"assign-mdp-codes-to-vehicles-on-web-form\"></div><div class=\"heading-text\">Assign MDP codes to vehicles on Web form</div><a aria-label=\"Skip link to Assign MDP codes to vehicles on Web form\" class=\"heading-anchor-icon fa fa-regular fa-anchor\" href=\"#assign-mdp-codes-to-vehicles-on-web-form\"></a></h3>\n<ul>\n<li>Navigate to <strong>Transportation &gt; Vehicle List</strong> tab</li>\n<li>Click <strong>Edit</strong> <i class=\"fa-regular fa-pencil\"></i> icon of the desired vehicle</li>\n<li>On the <strong>Update Vehicle</strong> form, scroll down until you see the <strong>MDP</strong> field. Input the MDP code of the Customer into this field.  If a vehicle is assigned multiple MDP codes, separate two adjacent MDP codes by a comma, for example: <em><strong>MDP_code_1,MDP_code_2</strong></em></li>\n<li>Click <strong>Save</strong> to confirm the change. Repeat these steps for other vehicles</li>\n</ul>\n<span aria-label=\"Expand image\" class=\"img lightbox closed\" role=\"button\" tabindex=\"0\"><span class=\"lightbox-inner\"><img alt=\"778\" class=\"img border\" height=\"auto\" loading=\"lazy\" src=\"../assets_user_guide/58fbc55-A3SbO7hlX6.png\" title=\"A3SbO7hlX6.png\" width=\"auto\" style=\"max-width:100%; height:auto; max-width:100%; height:auto; max-width:100%; height:auto;\"/></span></span>\n<ul>\n<li>Alternatively, you can directly assign MDP codes to vehicles right on the Vehicle List screen</li>\n<li>First, you need to display the MDP column. To do that, click the <strong>Columns</strong> button on the top right corner of the vehicle list then select this column from the drop-down list</li>\n</ul>\n<span aria-label=\"Expand image\" class=\"img lightbox closed\" role=\"button\" tabindex=\"0\"><span class=\"lightbox-inner\"><img alt=\"1703\" class=\"img border\" height=\"auto\" loading=\"lazy\" src=\"../assets_user_guide/c421fed-xca1xkbTTp.png\" title=\"xca1xkbTTp.png\" width=\"auto\" style=\"max-width:100%; height:auto; max-width:100%; height:auto; max-width:100%; height:auto;\"/></span></span>\n<ul>\n<li>After the MDP column is displayed, click on the MDP field of each vehicle. Input the MDP code into the pop-out form.  If a vehicle is assigned multiple MDP codes, separate two adjacent MDP codes by a comma, for example: <em><strong>MDP_code_1,MDP_code_2</strong></em>. After that, click the <i class=\"fa-regular fa-check-square\"></i> icon on the form to confirm assigning the MDP code(s) to that vehicle</li>\n</ul>\n<span aria-label=\"Expand image\" class=\"img lightbox closed\" role=\"button\" tabindex=\"0\"><span class=\"lightbox-inner\"><img alt=\"1165\" class=\"img border\" height=\"auto\" loading=\"lazy\" src=\"../assets_user_guide/de03a0c-X2lK9iGNCA.png\" title=\"X2lK9iGNCA.png\" width=\"auto\" style=\"max-width:100%; height:auto; max-width:100%; height:auto; max-width:100%; height:auto;\"/></span></span>\n<h3 class=\"heading heading-3 header-scroll\"><div class=\"heading-anchor anchor waypoint\" id=\"assign-mdp-codes-to-vehicles-on-excel-template\"></div><div class=\"heading-text\">Assign MDP codes to vehicles on Excel template</div><a aria-label=\"Skip link to Assign MDP codes to vehicles on Excel template\" class=\"heading-anchor-icon fa fa-regular fa-anchor\" href=\"#assign-mdp-codes-to-vehicles-on-excel-template\"></a></h3>\n<ul>\n<li>Input the MDP code to the <strong>MDP</strong> cell of each vehicle</li>\n<li>If a vehicle is assigned multiple MDP codes, separate two adjacent MDP codes by a comma and a space. For example: <em><strong>MDP_code_1, MDP_code_2</strong></em></li>\n</ul>\n<span aria-label=\"Expand image\" class=\"img lightbox closed\" role=\"button\" tabindex=\"0\"><span class=\"lightbox-inner\"><img alt=\"191\" class=\"img border\" height=\"auto\" loading=\"lazy\" src=\"../assets_user_guide/cb378b7-2019-11-01_22_08_12-Window.png\" title=\"2019-11-01 22_08_12-Window.png\" width=\"auto\" style=\"max-width:100%; height:auto; max-width:100%; height:auto; max-width:100%; height:auto;\"/></span></span>\n<h2 class=\"heading heading-2 header-scroll\"><div class=\"heading-anchor anchor waypoint\" id=\"route-plan-optimization-process-with-familiarity-constraint\"></div><div class=\"heading-text\">Route Plan Optimization Process with Familiarity Constraint</div><a aria-label=\"Skip link to Route Plan Optimization Process with Familiarity Constraint\" class=\"heading-anchor-icon fa fa-regular fa-anchor\" href=\"#route-plan-optimization-process-with-familiarity-constraint\"></a></h2>\n<ul>\n<li>After setting all the above, you can perform Route Plan Optimization as usual</li>\n<li>The optimization process will return the most optimized routes, satisfying the MDP configuration set up earlier</li>\n<li>In the scenario a customer has a familiarity relationship with a vehicle, but that vehicle doesn't have enough capacity and/or working time to deliver orders of that customer, the system will automatically assign these orders to other vehicles that have enough capacity and working time, regardless of whether or not those vehicles have familiarity relationship with this customer (As described at the beginning of this article)</li>\n<li>To see whether a customer has the familiarity relationship with the vehicle that delivers to that customer, click on the block of that customer on the vehicle timeline. On the panel that appears right side of the screen, see the value of the <strong>Familiarity</strong> field:</li>\n<li>The value is <em><strong>Yes</strong></em>: The vehicle has a familiarity relationship with the customer</li>\n</ul>\n<span aria-label=\"Expand image\" class=\"img lightbox closed\" role=\"button\" tabindex=\"0\"><span class=\"lightbox-inner\"><img alt=\"1907\" class=\"img border\" height=\"auto\" loading=\"lazy\" src=\"../assets_user_guide/2ed413c-2019-11-01_18_13_54-Abivin_vApp.png\" title=\"2019-11-01 18_13_54-Abivin vApp.png\" width=\"auto\" style=\"max-width:100%; height:auto; max-width:100%; height:auto; max-width:100%; height:auto;\"/></span></span>\n<ul>\n<li>The value is <em><strong>No</strong></em>: The vehicle doesn't have a familiarity relationship with the customer</li>\n</ul>\n<span aria-label=\"Expand image\" class=\"img lightbox closed\" role=\"button\" tabindex=\"0\"><span class=\"lightbox-inner\"><img alt=\"1907\" class=\"img border\" height=\"auto\" loading=\"lazy\" src=\"../assets_user_guide/569aef5-2019-11-01_18_15_03-Abivin_vApp.png\" title=\"2019-11-01 18_15_03-Abivin vApp.png\" width=\"auto\" style=\"max-width:100%; height:auto; max-width:100%; height:auto; max-width:100%; height:auto;\"/></span></span>\n<h2 class=\"heading heading-2 header-scroll\"><div class=\"heading-anchor anchor waypoint\" id=\"calculate-familiarity-ratio\"></div><div class=\"heading-text\">Calculate Familiarity ratio</div><a aria-label=\"Skip link to Calculate Familiarity ratio\" class=\"heading-anchor-icon fa fa-regular fa-anchor\" href=\"#calculate-familiarity-ratio\"></a></h2>\n<h3 class=\"heading heading-3 header-scroll\"><div class=\"heading-anchor anchor waypoint\" id=\"calculate-familiarity-ratio-of-a-single-vehicle\"></div><div class=\"heading-text\">Calculate Familiarity ratio of a single vehicle</div><a aria-label=\"Skip link to Calculate Familiarity ratio of a single vehicle\" class=\"heading-anchor-icon fa fa-regular fa-anchor\" href=\"#calculate-familiarity-ratio-of-a-single-vehicle\"></a></h3>\n<ul>\n<li>The Familiarity ratio of a vehicle is calculated by the following formula</li>\n<li><em><strong>The number of customers who have familiar relationships with the selected vehicle/The total number of customers assigned to the selected vehicle</strong></em></li>\n<li>For example: A vehicle delivers to four customers, three of whom have familiar relationships with that vehicle</li>\n<li>The Familiarity ratio of that vehicle will be <em><strong>3/4 x 100% = 75%</strong></em></li>\n</ul>\n<span aria-label=\"Expand image\" class=\"img lightbox closed\" role=\"button\" tabindex=\"0\"><span class=\"lightbox-inner\"><img alt=\"1914\" class=\"img border\" height=\"auto\" loading=\"lazy\" src=\"../assets_user_guide/e30822f-2019-11-01_21_17_02-Window.png\" title=\"2019-11-01 21_17_02-Window.png\" width=\"auto\" style=\"max-width:100%; height:auto; max-width:100%; height:auto; max-width:100%; height:auto;\"/></span></span>\n<h3 class=\"heading heading-3 header-scroll\"><div class=\"heading-anchor anchor waypoint\" id=\"calculate-familiarity-ratio-of-a-whole-route-plan\"></div><div class=\"heading-text\">Calculate Familiarity ratio of a whole Route Plan</div><a aria-label=\"Skip link to Calculate Familiarity ratio of a whole Route Plan\" class=\"heading-anchor-icon fa fa-regular fa-anchor\" href=\"#calculate-familiarity-ratio-of-a-whole-route-plan\"></a></h3>\n<ul>\n<li>The Familiarity ratio of a whole Route Plan is calculated by the following formula</li>\n<li><em><strong>The number of customers who have familiar relationships with the vehicles utilized in that Route Plan/The total quantity of customers whose orders are successfully optimized in that Route Plan</strong></em></li>\n<li>For example: The Route Plan consists of two vehicles delivering to five customers, among whom three customers have familiarity relationships with one vehicle</li>\n<li>The Familiarity ratio of that routing plan will be <em><strong>3/5 x 100% = 60%</strong></em></li>\n</ul>\n<span aria-label=\"Expand image\" class=\"img lightbox closed\" role=\"button\" tabindex=\"0\"><span class=\"lightbox-inner\"><img alt=\"1914\" class=\"img border\" height=\"auto\" loading=\"lazy\" src=\"../assets_user_guide/86f14be-2019-11-01_22_00_33-Window.png\" title=\"2019-11-01 22_00_33-Window.png\" width=\"auto\" style=\"max-width:100%; height:auto; max-width:100%; height:auto; max-width:100%; height:auto;\"/></span></span></div><div class=\"UpdatedAt\"><p class=\"DateLine\"><i class=\"icon icon-watch\"></i>Updated<!-- --> <!-- -->about 1 month ago<!-- --> </p></div><hr class=\"NextStepsDivider\"/></section><section class=\"content-toc grid-25\"></section></div><div class=\"ModalWrapper\" id=\"tutorialmodal-root\"></div></article></div></main>",
  "tags": [],
  "lang": "en",
  "status": "ready",
  "updated_at": "2025-10-27T03:47:56Z",
  "scraped": true,
  "_readme_category": "docs"
}